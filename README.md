# ì¼ê¸°ì¥[STEP1-1]

> ğŸ“Œ sample.datasetì„ í™œìš©í•˜ì—¬ í™”ë©´ì— ì œëª©, ì‘ì„±ì¼ì, í•œì¤„ ë¯¸ë¦¬ë³´ê¸°ê°€ ë³´ì—¬ì§€ëŠ” ì¼ê¸°ì¥ ì•±ì…ë‹ˆë‹¤.

## ğŸ“š ëª©ì°¨</br>
- [íŒ€ì›ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)
- [íŒŒì¼íŠ¸ë¦¬](#-íŒŒì¼íŠ¸ë¦¬)
- [ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°](#ì‹œê°í™”ëœ-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [íƒ€ì„ë¼ì¸](#-íƒ€ì„ë¼ì¸)
- [ì‹¤í–‰í™”ë©´](#-ì‹¤í–‰í™”ë©´)
- [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
- [ì°¸ê³ ìë£Œ](#-ì°¸ê³ ìë£Œ)

## ğŸ§‘â€ğŸ’» íŒ€ì› ì†Œê°œ</br>
| <img src="https://github.com/devKobe24/images/blob/main/%E1%84%86%E1%85%AE%E1%86%AB.jpeg?raw=true" width="200" height="200"/> | <img src="https://github.com/devKobe24/BranchTest/blob/main/IMG_5424.JPG?raw=true" width="200" height="200"/> |
| :-: | :-: |
| [**Moon(ë¬¸)**](https://github.com/hojun-jo) | [**Kobe(ì½”ë¹„)**](https://github.com/devKobe24) |

## ğŸ—‚ï¸ íŒŒì¼íŠ¸ë¦¬</br>
```
.
â”œâ”€â”€ Diary
â”‚Â Â  â”œâ”€â”€ Model
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DTO
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Diary.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryDateFormatter.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Error
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ DecodeError.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ Protocol
â”‚Â Â  â”‚Â Â      â””â”€â”€ IdentifierGenerator.swift
â”‚Â Â  â””â”€â”€ View
â”‚   â”‚   â””â”€â”€ LaunchScreen.storyboard
â”‚Â Â  â”‚   â””â”€â”€ DiaryTableViewCell.swift
â”‚Â Â  â”œâ”€â”€ Controller
â”‚Â Â  â”‚Â Â  â””â”€â”€ DiaryMainViewController.swift
â”‚Â Â  â”œâ”€â”€ Resource
â”‚Â Â  â”‚Â Â  â””â”€â”€ Assets.xcassets
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ AccentColor.colorset
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ Contents.json
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ AppIcon.appiconset
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ Contents.json
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Contents.json
â”‚Â Â  â”‚Â Â      â””â”€â”€ sample.dataset
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ Contents.json
â”‚Â Â  â”‚Â Â          â””â”€â”€ sample.json
â”‚Â Â  â”œâ”€â”€ Application
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AppDelegate.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ SceneDelegate.swift
â”‚Â Â  â”œâ”€â”€ Extension
â”‚Â Â  â”‚Â Â  â””â”€â”€ UITableViewCell+.swift
â”‚Â Â  â””â”€â”€ SwiftLint
â””â”€â”€ README.md
```

## ğŸ—ºï¸ ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°</br>
<img src = "https://github.com/devKobe24/images/blob/main/Diary(STEP1-1).png?raw=true">

## â° íƒ€ì„ë¼ì¸</br>
í”„ë¡œì íŠ¸ ì§„í–‰ ê¸°ê°„ | 23.08.29.(í™”) ~ 23.09.01.(ê¸ˆ)

| ë‚ ì§œ | ì§„í–‰ ì‚¬í•­ |
| -------- | -------- |
| 23.08.29.(í™”)     |  SwiftLint ì ìš©.<br/>í…Œì´ë¸” ë·° ìƒì„±, Autolayout ì ìš©.<br/>DiaryTableViewCell ìƒì„± ë° êµ¬í˜„.<br/>UITableViewCell Extension êµ¬í˜„.<br/>Main.storyboard ì‚­ì œ.<br/>DiaryTableViewCell UI ìˆ˜ì •<br/>ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ ì¶”ê°€<br/>DateFormatter extension êµ¬í˜„|
| 23.08.30.(ìˆ˜)     | Diary DTO ìƒì„±<br/>DecodeError ìƒì„± ë° êµ¬í˜„<br/>ìƒ˜í”Œ ì—ì…‹ ì¶”ê°€<br/>ìƒ˜í”Œ ë°ì´í„° ë””ì½”ë”©<br/>NSAttributedString ë°˜í™˜ í•¨ìˆ˜ ìˆ˜ì •<br/>fetchDate í•¨ìˆ˜ ìƒì„± ë° êµ¬í˜„.<br/>formatCreatedAt í•¨ìˆ˜ ìƒì„± ë° êµ¬í˜„.<br/>DiaryDateFormatter ìƒì„± ë° êµ¬í˜„
| 23.08.31.(ëª©)     | Step 1-1 ë° ê°œë… í•™ìŠµ<br/>
| 23.09.01(ê¸ˆ)     | README ì‘ì„±.<br/>


## ğŸ“º ì‹¤í–‰í™”ë©´</br>
- STEP1-1 ì¼ê¸°ì¥ ì‹œë®¬ë ˆì´í„° ì‹¤í–‰í™”ë©´ ğŸ¬ </br>
<img src = "https://github.com/devKobe24/images/blob/main/Diary-Step-1-1.gif?raw=true">

## ğŸ”¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… 
### 1ï¸âƒ£ **StackView ë‚´ë¶€ì—ì„œ Labelì˜ Heightê°€ ì¡íˆì§€ ì•ŠëŠ” í˜„ìƒ.**</br>
### ğŸ”’ **ë¬¸ì œì ** ğŸ”’</br>

**ğŸš¨ StackView ë‚´ë¶€ì—ì„œ Labelì˜ Heightê°€ ì¡íˆì§€ ì•ŠëŠ” í˜„ìƒì´ ìˆì—ˆìŠµë‹ˆë‹¤.</br>height is ambiguous for UILabel ê²½ê³ ê°€ ìƒê²¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ì„ ì§„í–‰í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.**</br>

### ğŸ”‘ **í•´ê²°ë°©ë²•** ğŸ”‘</br>
**ğŸ™‹â€â™‚ï¸ diaryTitleê³¼ dateAndPreviewì˜ content hugging priority ê°€ ê°™ì•„ ìƒê¸°ëŠ” í˜„ìƒì´ì˜€ìŠµë‹ˆë‹¤.</br>ë”°ë¼ì„œ diaryTitleì— .defaultHigh + 1 ê°’ì„ ì£¼ì—ˆê³ , dateAndPreviewì—ëŠ” .defaultHighê°’ì„ ì£¼ì–´ ê°ê° ë‹¤ë¥¸ content hugging priorityê°’ì„ ì£¼ì–´ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.**

```swift!
import UIKit

class DiaryTableViewCell: UITableViewCell {
    private let diaryTitle: UILabel = {
        let label = UILabel()
        label.font = UIFont.preferredFont(forTextStyle: .title2)
        label.setContentHuggingPriority(.defaultHigh + 1, for: .vertical)
        
        return label
    }()
    
    private let dateAndPreview: UILabel = {
        let label = UILabel()
        label.font = UIFont.preferredFont(forTextStyle: .body)
        label.setContentHuggingPriority(.defaultHigh, for: .vertical)
        
        return label
    }()
}
```

### 2ï¸âƒ£ **NSAttributedStringì´ ì ìš©ë˜ì§€ ì•ŠëŠ” í˜„ìƒ.** </br>
### ğŸ”’ **ë¬¸ì œì ** ğŸ”’</br>
**ğŸš¨ [__NSCFConstantString renderingMode]: unrecognized selector sent to instance 0x10aa5a2e8 ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
ì›ì¸ì€ NSAttributedString.Key.fontì— í•„ìš”í•œ íƒ€ì…ì´ UIFontì˜€ìœ¼ë‚˜ UIFont.TextStyleì„ ì‚¬ìš© ì¤‘ì´ì—ˆìŠµë‹ˆë‹¤.**

```swift!
private func convertAttributedString(text: String, font: UIFont.TextStyle) -> NSAttributedString {
    let attributes = [NSAttributedString.Key.font: font as Any] as [NSAttributedString.Key : Any]
    let attributedString = NSAttributedString(string: text, attributes: attributes)

    return attributedString
}
```

### ğŸ”‘ **í•´ê²°ë°©ë²•** ğŸ”‘</br>
ğŸ™‹â€â™‚ï¸**NSAttributedString.Key.fontì— UIFont íƒ€ì…ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ í•´ê²°í–ˆìŠµë‹ˆë‹¤.**</br>

```swift
private func convertAttributedString(text: String, font: UIFont) -> NSAttributedString {
    let attributes = [NSAttributedString.Key.font: font as Any] as [NSAttributedString.Key : Any]
    let attributedString = NSAttributedString(string: text, attributes: attributes)

    return attributedString
}
```

### 3ï¸âƒ£ NSAttributedStringì˜ ê°€ìš´ë° ì •ë ¬
### ğŸ”’ **ë¬¸ì œì ** ğŸ”’</br>
**ğŸš¨ ë¬¸ìì—´ ìì²´ì˜ ëª¨ì–‘ì´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ê¸° ë•Œë¬¸ì— UILabelì˜ baselineAdjustmentë¡œ ê°€ìš´ë° ì •ë ¬ì„ ë§ì¶œ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.**
<img src = "https://github.com/devKobe24/images/blob/main/NSAttributedString%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6%E1%84%8C%E1%85%A5%E1%86%B7.png?raw=true"></br>

### ğŸ”‘ **í•´ê²°ë°©ë²•** ğŸ”‘</br>
**ğŸ™‹â€â™‚ï¸NSAttributedString.Key.baselineOffsetì„ ì´ìš©í•´ ì‘ì€ ë¬¸ì ë¶€ë¶„ì˜ baselineì„ ì˜¬ë¦¬ëŠ” ê²ƒìœ¼ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.**</br>
<img src = "https://github.com/devKobe24/images/blob/main/NSAttributedString%E1%84%92%E1%85%A2%E1%84%80%E1%85%A7%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%B7.png?raw=true"></br>

```swift
private func attributedDateAndPreview(data: Diary, font: UIFont) -> NSMutableAttributedString {
    let text = "\(formatCreatedAt(data.createdAt)) \(data.body)"
    let attributedString = NSMutableAttributedString(string: text)
    let attributes: [NSAttributedString.Key: Any] = [
        .font: font,
        .baselineOffset: 2
    ]

    attributedString.addAttributes(attributes, range: (text as NSString).range(of: data.body))

    return attributedString
}
```

## ğŸ“‘ ì°¸ê³ ìë£Œ
- [ğŸ“ƒ Adaptivity and Layout](https://developer.apple.com/design/human-interface-guidelines/layout)
- [ğŸ“ƒ UIKit: Apps for Every Size and Shape](https://www.wwdcnotes.com/notes/wwdc18/235/)
- [ğŸ¥ Making apps adaptive part 1](https://www.youtube.com/watch?v=hLkqt2g-450)
- [ğŸ¥ Making apps adaptive part 2](https://www.youtube.com/watch?v=s3utpBiRbB0)
- [ğŸ“ƒ DateFormatter](https://developer.apple.com/documentation/foundation/dateformatter)
- [ğŸ“ƒ UITextView](https://developer.apple.com/documentation/uikit/uitextview)
