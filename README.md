# ì¼ê¸°ì¥

## í”„ë¡œì íŠ¸ ì†Œê°œ
ì¼ê¸°ì¥ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•´ë³¸ë‹¤.

> í”„ë¡œì íŠ¸ ê¸°ê°„: 2022-08-16 ~ 2022-09-02</br>
> íŒ€ì›: [ìˆ˜ê¿](https://github.com/Jeon-Minsu), [Finnn](https://github.com/finnn1) </br>
ë¦¬ë·°ì–´: [GRENN](https://github.com/GREENOVER)</br>


## ğŸ“‘ ëª©ì°¨

- [ğŸ§‘ğŸ»â€ğŸ’»ğŸ§‘ğŸ»â€ğŸ’» ê°œë°œì ì†Œê°œ](#-ê°œë°œì-ì†Œê°œ)
- [â± TimeLine](#-TimeLine)
- [ğŸ’¡ í‚¤ì›Œë“œ](#-í‚¤ì›Œë“œ)
- [ğŸ¤” í•µì‹¬ê²½í—˜](#-í•µì‹¬ê²½í—˜)
- [ğŸ—‚ í´ë” êµ¬ì¡°](#-í´ë”-êµ¬ì¡°)
- [ğŸ“ ê¸°ëŠ¥ì„¤ëª…](#-ê¸°ëŠ¥ì„¤ëª…)
- [ğŸš€ TroubleShooting](#-TroubleShooting)
- [ğŸ“š ì°¸ê³ ë¬¸ì„œ](#-ì°¸ê³ ë¬¸ì„œ)


## ğŸ§‘ğŸ»â€ğŸ’»ğŸ§‘ğŸ»â€ğŸ’» ê°œë°œì ì†Œê°œ

|ìˆ˜ê¿|Finnn|
|:---:|:---:|
|<image src = "https://i.imgur.com/6HkYdmp.png" width="250" height="250">|<img src="https://i.imgur.com/5EQ0KJy.png" width="250" height="250">
|[ìˆ˜ê¿](https://github.com/Jeon-Minsu)|[Finnn](https://github.com/finnn1)|

## â± TimeLine

### Week 1
    
> 2022.08.16 ~ 2022.08.19
    
- 2022.08.16
    - ê°„ë‹¨í•œ ìê¸°ì†Œê°œ
    - ì „ë°˜ì ì¸ í”„ë¡œì íŠ¸ ìˆ˜í–‰ ê³„íš ìˆ˜ë¦½
    - ê³„íšì„ ê¸°ë°˜ìœ¼ë¡œ ì½”ë“œ ì‘ì„±
    - `JSON` ìƒ˜í”Œ ë°ì´í„° íŒŒì‹± êµ¬í˜„
    - `UITableView` êµ¬í˜„
    - `TableView`ì˜ `CustomCell` êµ¬í˜„ ë° `JSON` ë°ì´í„° ì—°ë™
    - `Text font`ê°€ `Dynamic Size`ì— ëŒ€ì‘í•˜ë„ë¡ êµ¬í˜„
    - `DateFormatter`ë¥¼ í™œìš©í•œ localizeëœ ë‚ ì§œ í‘œê¸°í˜•ì‹ êµ¬í˜„
    - `UITextView`ë¥¼ í™œìš©í•œ ë©”ëª¨ ì‘ì„± í˜ì´ì§€ êµ¬í˜„
    - `UITextView`ì— ë‚´ìš© ì‘ì„±ì‹œ ì†Œí”„íŠ¸ì›¨ì–´ í‚¤ë³´ë“œê°€ ì‘ì„±ì¤‘ì¸ ê¸€ì„ ê°€ë¦¬ì§€ ì•Šë„ë¡ ìˆ˜ì •

- 2022.08.17 
    - ì»¨ë²¤ì…˜ ìˆ˜ì • ì „ë°˜ì ì¸ ë° ë¦¬íŒ©í† ë§
    - `STEP1 PR` ì‘ì„±
    
- 2022.08.18
    - `System Appearance`ë¥¼ ê³ ë ¤í•œ í…Œë§ˆ ìƒ‰ìƒ êµ¬í˜„
    - `TableView Delegate`ë¥¼ í™œìš©í•œ `Cell deselect` êµ¬í˜„
    - `Parsing Error handling`

- 2022.08.19
    - `CoreData` ê´€ë¦¬ë¥¼ ìœ„í•œ `Manager` íƒ€ì… ì„ ì–¸
    - `CoreDataManager`ë¥¼ ì‚¬ìš©í•´ `CRUD` ê¸°ëŠ¥ êµ¬í˜„
    - ì „ì²´ì ì¸ ë°ì´í„° ë¡œì§ì„ `JSON`ì—ì„œ `CoreData` ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½
    
### Week 2

> 2022.08.22 ~ 2022.08.24
    
- 2022.08.22
    - ì¼ê¸°ì¥ `Content` í˜ì´ì§€ êµ¬ì„±
    - `NSFetchedResultsControllerDelegate`ë¥¼ í™œìš©í•œ ì €ì¥ ë¡œì§ êµ¬í˜„
    - `View LifeCycle`ì— ë”°ë¥¸ ë¡œì§ ìˆ˜ì •
    
- 2022.08.23
    - `SearchController`ë¥¼ ì‚¬ìš©í•´ `SearchBar` êµ¬í˜„
    - `TableView`ì—ì„œ `Swipe`ë¡œ ê³µìœ  ë° ì‚­ì œê°€ ê°€ëŠ¥í•˜ë„ë¡ í•¨.
    - ì „ë°˜ì ì¸ ì»¨ë²¤ì…˜ ìˆ˜ì • ë° ë¦¬íŒ©í† ë§
    
- 2022.08.24
    - ì „ë°˜ì ì¸ ì»¨ë²¤ì…˜ ìˆ˜ì • ë° ë¦¬íŒ©í† ë§
    - `STEP 2 PR` ì‘ì„±
    
- 2022.08.25
    - ê²€ìƒ‰ì‹œ `SearchBar` ìƒ‰ìƒ ì˜¤ë¥˜ ìˆ˜ì •
    - `ViewContext` ì»¤ìŠ¤í…€ìœ¼ë¡œ ì²˜ë¦¬
    - `fetch` ë°©ì‹ì„ `UUID`ë¡œ ë³€ê²½
    
- 2022.08.26
    - `body`ê°€ ì—†ì„ ê²½ìš° ì €ì¥ë˜ì§€ ì•Šì•˜ë˜ ë¬¸ì œ ìˆ˜ì •
    - ìŠ¤í¬ë¡¤ì‹œ `searchBar`ê°€ ìˆ¨ê²¨ì§€ë„ë¡ ë³€ê²½
    
### Week 3

> 2022.08.29 ~ 2022.08.30
    
- 2022.08.29
    - `OpenWeatherAPI` `fetching`ì„ ìœ„í•œ `DataType` ì •ì˜
    - `Weather` ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ `Manager` íƒ€ì… ì •ì˜
    - `CoreData`ì— ë‚ ì”¨ ì •ë³´ `Attributes` ì¶”ê°€
    
- 2022.08.30
    - `CoreLocation`ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ ìœ„ì¹˜ ì •ë³´ ìš”ì²­
    - ìœ„ì¹˜ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ `Weather` ë°ì´í„° ë‹¤ìš´ë¡œë“œ
    - ë‚ ì”¨ ì•„ì´ì½˜ì„ ê° ì…€ì— ì ìš©
    - ì „ë°˜ì ì¸ ì»¨ë²¤ì…˜ ìˆ˜ì • ë° ë¦¬íŒ©í† ë§
    - `STEP 3 PR` ì‘ì„±
    
## ğŸ’¡ í‚¤ì›Œë“œ

- `JSONDecoder`, `NSDataAsset`, `Parsing`
- `TimeInterval`, `timeIntervalSince1970`
- `DateFormatter`, `Locale`, `TimeZone`, `current`
- `UITableViewDiffableDataSource`
- `keyboardFrameEndUserInfoKey`, `contentInset`, `scrollIndicatorInsets`
- `CoreData`, `NSPersistentStoreCoordinator`, `NSPersistentContainer`, `NSPersistentStore`, `NSManagedObjectContext`
- `Entity`, `NSFetchRequest`, `NSPredicate`, `NSSortDescriptor`
- `NSFetchedResultsController`, `performFetch`, `fetchedObjects`
- `NSFetchedResultsControllerDelegate`
- `Snapshot`, `appendItems`, `insertItems`, `deleteItems`, `reloadSections`
- `UISearchController`, `searchResultsUpdater`, `hidesSearchBarWhenScrolling`
- `DataSource`, `itemIdentifier`
- `Action Sheet`, `Alert`
- `UISwipeActionsConfiguration`, `performsFirstActionWithFullSwipe`
- `UIActivityViewController`, `activityItems`, `applicationActivities`
- `NSMutableAttributedString`, `firstIndex`, `utf16Offset`, `NSMakeRange`, `substring`
- `Notification`, `willResignActiveNotification`
- `Tuple`
- `Core Location`, `CLLocationManagerDelegate`, `CLLocationManager`, `authorizationStatus`
- `requestLocation`, `CLLocation`, `coordinate`, `latitude`, `longitude`
- `Open API`, `Networking`

    
## ğŸ¤” í•µì‹¬ê²½í—˜

- [x] Date Formatterì˜ ì§€ì—­ ë° ê¸¸ì´ë³„ í‘œí˜„ì˜ í™œìš©
- [x] Text Viewì˜ í™œìš©
- [x] ì½”ì–´ë°ì´í„° ëª¨ë¸ ìƒì„±
- [x] ì½”ì–´ë°ì´í„° ëª¨ë¸ ë° DB ë§ˆì´ê·¸ë ˆì´ì…˜
- [x] í…Œì´ë¸”ë·°ì—ì„œ ìŠ¤ì™€ì´í”„ë¥¼ í†µí•œ ì‚­ì œê¸°ëŠ¥ êµ¬í˜„
- [x] Open APIì˜ í™œìš©
- [x] Core Locationì˜ í™œìš©

## ğŸ—‚ í´ë” êµ¬ì¡°

```
.
â”œâ”€â”€ Diary
â”‚Â Â  â”œâ”€â”€ Controllers
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryContentsViewController.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ DiaryListViewController.swift
â”‚Â Â  â”œâ”€â”€ Error
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ APIError.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FetchingError.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ GPSError.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ ParsingError.swift
â”‚Â Â  â”œâ”€â”€ Extension
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Date+Extension.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Int+Extension.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ UIViewController+Extension.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ URLComponents+Extension.swift
â”‚Â Â  â”œâ”€â”€ Models
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiarySampleData.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ JSONData.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ WeatherDataEntity.swift
â”‚Â Â  â”œâ”€â”€ Namespaces
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ActionSheet.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Alert.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AssetData.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DiaryCoreData.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ HTTPMethod.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ NavigationItem.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ NewLine.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SearchControllerItem.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SystemImage.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ WeatherURLQueryItem.swift
â”‚Â Â  â”œâ”€â”€ Resources
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ API
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ APIClient.swift
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ APIConfiguration.swift
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ APIProtocol
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ APIProtocol.swift
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ GETProtocol.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AppDelegate.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Assets.xcassets
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AccentColor.colorset
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Contents.json
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AppIcon.appiconset
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Contents.json
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Contents.json
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ sample.dataset
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Contents.json
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ sample.json
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Base.lproj
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ LaunchScreen.storyboard
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CoreData
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CoreDataManager.swift
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Diary+CoreDataClass.swift
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Diary+CoreDataProperties.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Diary.xcdatamodeld
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Diary.xcdatamodel
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ contents
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Info.plist
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SceneDelegate.swift
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ URLComponentsBuilder.swift
â”‚Â Â  â”‚Â Â  â””â”€â”€ WeatherManager
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ WeatherDataAPIManager.swift
â”‚Â Â  â”‚Â Â      â””â”€â”€ WeatherImageAPIManager.swift
â”‚Â Â  â””â”€â”€ Views
â”‚Â Â      â”œâ”€â”€ DiaryContentView.swift
â”‚Â Â      â”œâ”€â”€ DiaryListCell.swift
â”‚Â Â      â””â”€â”€ DiaryListView.swift
â””â”€â”€ README.md
```
    
## ğŸ“ ê¸°ëŠ¥ì„¤ëª…

### STEP 1
    
**ì‘ì„±í•œ ì¼ê¸°ì¥ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” TableView êµ¬í˜„**
    
    - JSON ìƒ˜í”Œ ë°ì´í„° íŒŒì‹± êµ¬í˜„
    - UITableView êµ¬í˜„
    - TableViewì˜ CustomCell êµ¬í˜„ ë° JSON ë°ì´í„° ì—°ë™
    - Text fontê°€ Dynamic Sizeì— ëŒ€ì‘í•˜ë„ë¡ êµ¬í˜„
    - DateFormatterë¥¼ í™œìš©í•œ localizeëœ ë‚ ì§œ í‘œê¸°í˜•ì‹ êµ¬í˜„
   
**ìƒˆë¡œìš´ ì¼ê¸°ì¥ ì‘ì„±ì„ ìœ„í•œ TextView êµ¬í˜„**
    
    - UITextViewë¥¼ í™œìš©í•œ ë©”ëª¨ ì‘ì„± í˜ì´ì§€ êµ¬í˜„
    - UITextViewì— ë‚´ìš© ì‘ì„±ì‹œ ì†Œí”„íŠ¸ì›¨ì–´ í‚¤ë³´ë“œê°€ ì‘ì„±ì¤‘ì¸ ê¸€ì„ ê°€ë¦¬ì§€ ì•Šë„ë¡ ìˆ˜ì •
    
### STEP 2

**ê° Cellì„ í„°ì¹˜ í•  ê²½ìš° í•´ë‹¹ ë©”ëª¨ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥**
    
    - `UITableViewDelegate`ì˜ `didSelectRowAt` ë©”ì„œë“œ ì‚¬ìš©
    - í•´ë‹¹ `cell`ì˜ `indexPath`ì— í•´ë‹¹í•˜ëŠ” `diary` ë°ì´í„° ì¶”ì¶œ 
    - ë„¤ë¹„ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì´ìš©í•˜ì—¬ í”„ë¡œí¼í‹° ì£¼ì…
    
**ë©”ëª¨ ì‘ì„± ë° ìˆ˜ì •ì‹œ ìë™ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„**
    
    - `TableView` ë¦¬ìŠ¤íŠ¸ë¡œ ì´ë™ ì‹œ
    - í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°ˆ ê²½ìš°
    - ì•±ì´ `ResignActive` ìƒíƒœë¡œ ë„˜ì–´ê°ˆ ê²½ìš°

**ë©”ëª¨ ì‘ì„±ì¤‘ ìš°ì¸¡ ìƒë‹¨ ë²„íŠ¼ì„ í„°ì¹˜í•˜ë©´ Share ë° Delete ê°€ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„**
    
    - `UIAlertController`(`ActionSheet`) ì‚¬ìš©
    - `Share` ì‹œ, `UIActivityViewController Present`
    - `Delete` ì‹œ, `Alert` ë„ìš°ê¸°
        - ì‚­ì œ ì•¡ì…˜ í´ë¦­ ì‹œ, ì´ì „ ë·°ë¡œ ì´ë™ ë° ì½”ì–´ë°ì´í„° ë‚´ í•´ë‹¹ ì¼ê¸° ì‚­ì œ
    
**TableView ë¦¬ìŠ¤íŠ¸ì—ì„œ Swipe Gestureë¥¼ í†µí•´ Share ë° Deleteê°€ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„**
    
    - UITableViewDelegate ë‚´ trailingSwipeActionsConfigurationForRowAt ë©”ì„œë“œ ì‚¬ìš©
    - UISwipeActionsConfiguration ë‚´ share ë° delete ë©”ì„œë“œ êµ¬í˜„
        - ê° ê¸°ëŠ¥ ë©”ì„œë“œëŠ” ìœ„ì˜ ë©”ëª¨ ì‘ì„±ì¤‘ ìš°ì¸¡ ìƒë‹¨ ë²„íŠ¼ì— ì‚¬ìš©ëœ ë©”ì„œë“œì™€ ìœ ì‚¬
    
**TableView ì—ì„œ ì›í•˜ëŠ” ì¼ê¸°ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ SearchBar êµ¬í˜„**
    
    - `UISearchController` ìƒì„± í›„, `navigationItem`ì— ì ìš©
    - `UISearchResultsUpdating` ë‚´ `updateSearchResults` ë©”ì„œë“œ ì‚¬ìš©
        - ì›í•˜ëŠ” ì¼ê¸° ê²€ìƒ‰ ì‹œ, `title`ê³¼ `body`ì— í•´ë‹¹ ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìˆëŠ” ì¼ê¸°ë§Œì„ `Core Data`ì—ì„œ `fetch`
        - ì¼ê¸° ê²€ìƒ‰ ì´ˆê¸°í™” ì‹œ, ë‹¤ì‹œ ëª¨ë“  ì¼ê¸°ë¥¼ `Core Data`ì—ì„œ `fetch`

### STEP 3
    
**í˜„ì¬ ì‚¬ìš©ìì˜ ìœ„ì¹˜(Core Location)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜„ì¬ ë‚ ì”¨ì •ë³´(Open Weather API) ê°€ì ¸ì˜¤ê¸°**
    
    - Open Weather API ë°ì´í„°ë¥¼ fetchí•´ì˜¤ëŠ” WeatherDataAPIManager ì •ì˜
    - CLLocationManager ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ requestLocation ë©”ì„œë“œ í˜¸ì¶œ
    - CLLocationManagerDelegate í”„ë¡œí† ì½œì„ í†µí•œ Location ì—…ë°ì´íŠ¸ ì‹œ
        - WeatherDataAPIManagerë¥¼ í†µí•´ Weather Data ê°€ì ¸ì˜¤ê¸°
        - diaryì˜ main, icon í”„ë¡œí¼í‹° í• ë‹¹
    

## ğŸš€ TroubleShooting

### STEP 1
#### T1. `KeyBoard` ìˆ¨ê¹€ ê¸°ëŠ¥ ê°ì§€ ë°©ë²•
- ì¼ê¸°ì¥ ìƒì„± í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ì˜€ì„ ë•Œ, `textView`ì˜ `keyboardDismissMode` í”„ë¡œí¼í‹°ë¥¼ `interactive`ë¡œ ì„¤ì •í•˜ë‹ˆ, ë“œë˜ê·¸ê°€ ê°€ëŠ¥í•œ ìƒí™©ì—ì„œëŠ” í™”ë©´ì„ ìœ„ë¡œ ì¼ì • ì •ë„ ìŠ¤í¬ë¡¤ì„ í•´ë³´ë‹ˆ, í‚¤ë³´ë“œê°€ ì •ìƒì ìœ¼ë¡œ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜, ì¼ê¸°ì¥ì— ì•„ë¬´ê²ƒë„ ì…ë ¥í•˜ì§€ ì•Šì€ ì´ˆê¸° í™”ë©´ì¸ ê²½ìš°, ì…ë ¥í•œ ë‚´ìš©ì´ ì—†ê¸° ë•Œë¬¸ì— ìŠ¤í¬ë¡¤ì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ í‚¤ë³´ë“œê°€ ì‚¬ë¼ì§ˆ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.
- ì´ì— ëŒ€í•˜ì—¬ ê³ ë¯¼í•´ë³¸ ê²°ê³¼, `textView`ì˜ `alwaysBounceVertical` í”„ë¡œí¼í‹°ë¥¼ `true`ë¡œ ì„¤ì •í•˜ì—¬, ì´ˆê¸° í™”ë©´ì—ì„œë„ ìˆ˜ì§ ìŠ¤í¬ë¡¤ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì—¬, ì¼ì • ì •ë„ ìŠ¤í¬ë¡¤ì„ í•˜ë©´ í‚¤ë³´ë“œê°€ ì •ìƒì ìœ¼ë¡œ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

### STEP 2
#### T1. TableView snapShot ì—…ë°ì´íŠ¸ ì—ëŸ¬

- ì•„ë˜ì™€ ê°™ì´, `NSFetchedResultsControllerDelegate`ë¥¼ ì±„íƒí•˜ì—¬ `NSFetchedResultsController`ì— ë³€í™”ê°€ ê°ì§€ë  ë•Œ, `controllerWillChangeContent` ë©”ì„œë“œ ë‚´ì—ì„œ `tableView`ì˜ `beginUpdates` ë©”ì„œë“œë¥¼ ì‹œì‘ìœ¼ë¡œ, `controllerDidChangeContent` ë©”ì„œë“œ ë‚´ `tableView`ì˜ `endUpdates` ë©”ì„œë“œì— ë‹¤ë‹¤ë¥¼ ë•Œê¹Œì§€, ê°ì§€í•œ `insert`, `delete`, `update`ì— ëŒ€í•œ ë‚´ìš©ì„ `snapShot`ì— ì ìš©í•˜ê³ , `dataSource`ì—ì„œ `snapShot`ì„ `apply`ë¥¼ í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.
    
- **ê¸°ì¡´ ì½”ë“œ :**
    ```swift
    extension DiaryListViewController: NSFetchedResultsControllerDelegate {
        func controllerWillChangeContent(_ controller: NSFetchedResultsController<NSFetchRequestResult>) {
            diaryView.tableView.beginUpdates()
        }
        
        func controller(_ controller: NSFetchedResultsController<NSFetchRequestResult>, didChange anObject: Any, at indexPath: IndexPath?, for type: NSFetchedResultsChangeType, newIndexPath: IndexPath?) {
            
            ...
            
            switch type {
            case .insert:
                
                ...
                
                snapShot.insertItems([diaryData], beforeItem: lastDiaryData)
            case .delete:
                snapShot.deleteItems([diaryData])
            case .update:
                snapShot.reloadSections([.main])
            default:
                break
            }
            
            dataSource?.apply(snapShot)
        }
        
        func controllerDidChangeContent(_ controller: NSFetchedResultsController<NSFetchRequestResult>) {
            diaryView.tableView.endUpdates()
        }
    }
    ```
- í•˜ì§€ë§Œ, ìœ„ì˜ ê²½ìš° `DiaryListViewController`ì—ì„œëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ì—ˆì§€ë§Œ, ë‹¤ìŒ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ì¸ `DiaryContentViewController`ì—ì„œ `DiaryListViewController`ë¡œ ëŒì•„ì˜¬ ë•Œ, `DiaryListViewController`ì—ì„œëŠ” í™”ë©´ì´ í‘œì‹œë˜ê¸° ì „ì—, `tableView`ì˜ `UI`ì— ê´€í•œ ë‚´ìš©ì— ì˜í–¥ì„ ë¯¸ì³ ì½˜ì†”ë¡œê·¸ì— ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.
    
- í•´ë‹¹ ë¬¸ì œìƒí™©ì„ `tableView`ë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ëŠ” ê³¼ì •ì´ `DiaryListViewController`ë¡œ ëŒì•„ì˜¨ ì´í›„ì— ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ”ë°, ëŒì•„ì˜¤ê¸° ì „ì— ìˆ˜í–‰ë˜ì–´ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë‚˜ì˜¨ ê²ƒì´ë¼ íŒë‹¨ì„ ë‚´ë ¸ìŠµë‹ˆë‹¤. ì´ì—, ì˜í–¥ì„ ì£¼ëŠ” ë©”ì„œë“œë¥¼ í™•ì¸í•´ë³¸ ê²°ê³¼, `beginUpdate`, `endUpdates`, `dataSource`ì˜ `apply` ë©”ì„œë“œê°€ ì˜í–¥ì„ ë¯¸ì¹˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
    
- `beginUpdate`, `endUpdates`ì˜ ê²½ìš° `tableView`ë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì†Œë“œë“¤ì„ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•´ì•¼ í•˜ëŠ” ê²½ìš° í•„ìš”í•œ ë©”ì„œë“œì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì¼ê¸°ì¥ì˜ ê²½ìš°, ì¼ê¸°ì¥ ì €ì¥, ì—…ë°ì´íŠ¸, ì‚­ì œê°€ ê°ê° ë…ë¦½ì ìœ¼ë¡œ í˜¸ì¶œë˜ê³  ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì—ˆìŠµë‹ˆë‹¤. ì´ì— í•´ë‹¹ ë©”ì„œë“œë¥¼ ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤.
    
- ë‹¤ìŒìœ¼ë¡œ, `dataSource`ì˜ `apply` ë©”ì„œë“œëŠ” ì¼ê¸°ì¥ ì €ì¥ ë° ì—…ë°ì´íŠ¸ì˜ ê²½ìš°ëŠ” ê²°êµ­ `DiaryListViewController`ë¡œ ëŒì•„ì˜¤ë‹ˆ, `viewDidDisappear`ì—ì„œ `apply` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì˜€ê³ , ì‚­ì œì˜ ê²½ìš°ëŠ” `DiaryListViewController` ë‚´ `swipeConfiguration`ì„ í†µí•´ì„œë„ ì´ë£¨ì–´ì§€ë¯€ë¡œ, `viewDidDisappear`ì„ í˜¸ì¶œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, `deleteDiary` ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ, ë°”ë¡œ `apply` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

- **ìˆ˜ì • ì½”ë“œ :**
    
    ```swift
    final class DiaryListViewController: UIViewController {
            override func viewDidAppear(_ animated: Bool) {
                    super.viewDidAppear(animated)
            
            dataSource?.apply(snapshot)
            }
    
            private func deleteDiary(createdAt date: Date) {
            do {
                try CoreDataManager.shared.delete(createdAt: date)
                dataSource?.apply(snapshot)
            } catch {
                presentErrorAlert(error)
            }
        }
    }
    
    extension DiaryListViewController: NSFetchedResultsControllerDelegate {
        func controller(_ controller: NSFetchedResultsController<NSFetchRequestResult>, didChange anObject: Any, at indexPath: IndexPath?, for type: NSFetchedResultsChangeType, newIndexPath: IndexPath?) {
            
            switch type {
            case .insert:
                
                ...
                
                snapShot.insertItems([diaryData], beforeItem: lastDiaryData)
            case .delete:
                snapShot.deleteItems([diaryData])
            case .update:
                snapShot.reloadSections([.main])
            default:
                break
            }
    
        // dataSource?.apply(snapShot) ë©”ì„œë“œ ì‚­ì œ
        }
    }
    ```

#### T2. SearchBarì—ì„œ ê²€ìƒ‰ì‹œ ì˜¬ë°”ë¥´ê²Œ ëœ¨ì§€ ì•ŠëŠ” ë¬¸ì œ
- `SearchBar`ì—ì„œ ì¼ê¸°ì¥ì„ ê²€ìƒ‰ í•  ê²½ìš° ê²€ìƒ‰ëœ ë‚´ìš©ì˜ ê°œìˆ˜ëŠ” ë§ì•˜ì§€ë§Œ, ê²€ìƒ‰ëœ ë°ì´í„°ê°€ ë‹¤ë¥´ê²Œ ëœ¨ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

- ì›ì¸ì„ ë¶„ì„í•´ ë³¸ ê²°ê³¼ í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ `NSFetchedResultsController`ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, `dataSource` ë‚´ë¶€ì—ì„œ `Cell`ì„ `dequeue`í•˜ëŠ” ê³¼ì •ì—ì„œë„ `NSFetchedResultsController` ë‚´ë¶€ì˜ `fetch`ë¥¼ í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.

- ê²°ê³¼ì ìœ¼ë¡œ `dataSource` ë‚´ë¶€ì—ì„œëŠ” `snapshot`ìœ¼ë¡œë¶€í„° ì „ë‹¬ë°›ì€ `item`ì„ í• ë‹¹í•´ì£¼ë‹ˆ ì •ìƒì ìœ¼ë¡œ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
    
- **ê¸°ì¡´ ì½”ë“œ :**
```swift
private func configureDataSource() {
    configureSnapshot()
    
    let tableView = diaryView.tableView
    
    dataSource = UITableViewDiffableDataSource<Section, DiaryData>(
        tableView: tableView,
        cellProvider: { tableView, indexPath, item in
            guard let cell = tableView.dequeueReusableCell(
                withIdentifier: DiaryListCell.identifier,
                for: indexPath
            ) as? DiaryListCell else {
                return nil
            }
            
            let diary = self.fetchResultsController.object(at: indexPath)
            cell.titleLabel.text = diary.title
            cell.dateLabel.text = diary.createdAt?.localizedString
            cell.bodyLabel.text = diary.body
            cell.accessoryType = .disclosureIndicator
            
            return cell
        }
    )
}
```
- **ìˆ˜ì • ì½”ë“œ :**
```swift
private func configureDataSource() {
    let tableView = diaryView.tableView
        
    dataSource = UITableViewDiffableDataSource<Section, Diary>(
        tableView: tableView,
        cellProvider: { tableView, indexPath, item in
            guard let cell = tableView.dequeueReusableCell(
                withIdentifier: DiaryListCell.identifier,
                for: indexPath
            ) as? DiaryListCell else {
                return nil
            }
            
            cell.titleLabel.text = item.title
            cell.dateLabel.text = item.createdAt?.localizedString
            cell.bodyLabel.text = item.body
            cell.accessoryType = .disclosureIndicator
            
            return cell
        }
    )
    
    dataSource?.apply(snapshot)
}
```
    
### STEP 3
#### T1. ì¼ê¸°ì˜ `Title`ê³¼ `Body` êµ¬ë¶„ ë¡œì§
- `Title`ê³¼ `Body`ë¥¼ êµ¬ë¶„í•˜ëŠ” ì´ì „ ë¡œì§ì„ ê²€í† í•´ë³¸ ê²°ê³¼, `Body`ê°€ ì—†ì´ `Title`ë¡œë§Œ ì¼ê¸°ë¥¼ êµ¬ì„±í•˜ì˜€ì„ ë•Œë„, ì¼ê¸°ê°€ ì €ì¥ë˜ëŠ” ê²ƒì´ ì˜³ì€ ì¼ê¸°ì¥ ì–´í”Œë¦¬ì¼€ì´ì…˜ êµ¬í˜„ì´ë¼ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒê°ì„ ë°”íƒ•ìœ¼ë¡œ, ë¡œì§ì„ ìˆ˜ì •í•˜ë˜ ì¤‘, `Body`ì˜ ê²½ìš° ê°œí–‰ì´ 2ë²ˆëœ ê²½ìš°, ì¼ê¸°ì¥ ë¦¬ìŠ¤íŠ¸ í™”ë©´ì—ì„œ `Body`ì˜ ë‚´ìš©ë¬¼ì´ ì•„ë‹Œ, ê°œí–‰ìœ¼ë¡œ ì¸í•œ ë¹ˆ ë‚´ìš©ì´ í‘œì‹œë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.
    
- ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ë¨¼ì €, `diaryContentView` ë‚´ `textView`ì˜ `text`ë¥¼ ì˜µì…”ë„ ë°”ì¸ë”© í›„, ê°œí–‰ì„ ê¸°ì¤€ìœ¼ë¡œ `split`ì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  `split`ëœ ë¬¸ìì—´ ë°°ì—´ì˜ ì²«ë²ˆì§¸ êµ¬ì„±ìš”ì†ŒëŠ” `title`ì— í•´ë‹¹í•  ê²ƒì´ë¯€ë¡œ, `title`ì— ë‹´ì•˜ê³ , `title` ê°’ì´ ì—†ì„ì‹œ, `textView`ì˜ ê°’ì€ ìœ ì˜ë¯¸í•œ ê¸€ìê°€ ì—†ëŠ” ê°’ì´ë¯€ë¡œ `nil` ì²˜ë¦¬ë¥¼ í•˜ì—¬ ì¼ê¸°ë¥¼ `save`í•˜ì§€ ì•Šë„ë¡ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë§Œì¼ `splitText`ì˜ `count`ê°€ 1ë³´ë‹¤ í¬ì§€ ì•Šìœ¼ë©´, ì„ í–‰ ì¡°ê±´ì—ì„œ ì´ì–´ì§„ ê²½ìš°ì´ê¸°ì—, `count`ê°€ 1ì¸ ê²½ìš°ì´ë¯€ë¡œ, `title`ë§Œ ìˆëŠ” ê²½ìš°ì´ê¸°ì— `(String(title), DiaryCoreData.emptyBody)`ë¡œ íƒ€ì´í‹€ê³¼ ë¹ˆ ë°”ë””ë¥¼ ë°˜í™˜í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì „ì²´ `diaryConentViewText`ì—ì„œ `body`ê°€ ì‹œì‘ë˜ëŠ” ì¸ë±ìŠ¤ë¶€í„°ë¥¼ ë²”ìœ„ë¡œ ì‚¼ì•„ `body`ë¥¼ ì¶”ì¶œí•˜ì˜€ìŠµë‹ˆë‹¤.

- ì½”ë“œ
```swift
private func extractTitleAndBody() -> (String, String)? {
    guard let diaryConentViewText = diaryContentView.textView.text else {
        return nil
    }
    
    let splitedText = diaryConentViewText.split(separator: NewLine.lineFeed)
    
    guard let title = splitedText.first else {
        return nil
    }
    
    guard splitedText.count > 1 else {
        return (String(title), DiaryCoreData.emptyBody)
    }
    
    let body = diaryConentViewText[splitedText[1].startIndex...]
    
    return (String(title), String(body))
}
```
    
    
## ğŸ“š ì°¸ê³ ë¬¸ì„œ

- [Adaptivity and Layout](https://developer.apple.com/design/human-interface-guidelines/foundations/layout/)
- [UIKit: Apps for Every Size and Shape](https://developer.apple.com/videos/play/wwdc2018/235/)
- [Making Apps Adaptive, Part 1 / Script](https://www.youtube.com/watch?v=hLkqt2g-450)
- [Making Apps Adaptive, Part 2 / Script](https://www.youtube.com/watch?v=s3utpBiRbB0)
- [DateFormatter](https://developer.apple.com/documentation/foundation/dateformatter)
- [UITextView](https://developer.apple.com/documentation/uikit/uitextview)
- [Core Data](https://developer.apple.com/documentation/coredata)
- [Making Apps with Core Data](https://developer.apple.com/videos/play/wwdc2019/230/)
- [UITextViewDelegate](https://developer.apple.com/documentation/uikit/uitextviewdelegate)
- [UISwipeActionsConfiguration](https://developer.apple.com/documentation/uikit/uiswipeactionsconfiguration)
- [Dynamic Type Sizes](https://developer.apple.com/design/human-interface-guidelines/foundations/typography/)
- [Open Weather - Current weather data](https://openweathermap.org/current)
- [Core Location](https://developer.apple.com/documentation/corelocation)
    - [Getting the Userâ€™s Location](https://developer.apple.com/documentation/corelocation/getting_the_user_s_location)
    - [Adding Location Services to Your App](https://developer.apple.com/documentation/corelocation/adding_location_services_to_your_app)
    - [Requesting Authorization for Location Services](https://developer.apple.com/documentation/corelocation/requesting_authorization_for_location_services)
- [Using Lightweight Migration](https://developer.apple.com/documentation/coredata/using_lightweight_migration)

    
--- 
    
## 1ï¸âƒ£ STEP 1

### STEP 1 Questions & Answers

#### Q1. `View`ì™€ `ViewController` ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ
- `ViewController`ì˜ ê¸°ë³¸ `view`ë¥¼ `DiaryView`ë¡œ êµì²´ë¥¼ í•˜ì˜€ëŠ”ë°, `diaryView`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•˜ì—¬, ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë©”ì„œë“œì—ì„œ `guard let`ì„ í†µí•œ ë‹¤ìš´ìºìŠ¤íŒ…ì´ í•„ìš”í•˜ì˜€ìŠµë‹ˆë‹¤. 
- ì´ ë•Œë¬¸ì— ë™ì¼í•œ ì½”ë“œê°€ ì¤‘ë³µì ìœ¼ë¡œ ë°œìƒí•˜ì—¬, í•´ë‹¹ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì½”ë“œì˜ ìœ ì—°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë¬´ì—‡ì´ ìˆì„ì§€ ì§ˆë¬¸ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.

#### A1. `View`ì™€ `ViewController` ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ

- í•´ë‹¹ `DiaryContentView`ë¥¼ `loadView` ë©”ì„œë“œì—ì„œê°€ ì•„ë‹Œ í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í”„ë¡œí¼í‹°ë¡œ ë¹¼ì„œ ì£¼ì…í•˜ë©´ ë©ë‹ˆë‹¤. ì¦‰, í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ìƒì„±í• ë•Œ `DiaryContentView` íƒ€ì…ì˜ `diaryContentView` í”„ë¡œí¼í‹°ë¥¼ í´ë˜ìŠ¤ê°€ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ ì£¼ì…ë°›ê±°ë‚˜ ë‚´ë¶€ì—ì„œ ì •ì˜ ë° ìƒì„±í•´ì£¼ê³ , ê·¸ ë’¤ `loadView`ì—ì„œ `view = diaryView`ì™€ ê°™ì€ í˜•íƒœë¡œ í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œì˜ `view` ê°’ì„ ë„£ì–´ì£¼ë©´ ë°”ì¸ë”© ë° ë‹¤ìš´ ìºìŠ¤íŒ…ì€ í•˜ì§€ ì•Šì•„ë„ ë˜ê¸°ì— ì½”ë“œ ì¤‘ë³µì€ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 

- ì½”ë“œ
    
    ```swift
    final class DiaryContentsViewController: UIViewController {
        private let diaryContentView = DiaryContentView()
    
        override func loadView() {
            view = diaryContentView
            ...
        }
    
        ...
    
        @objc private func keyboardWillShow(_ notification: Notification) {
            ...
            
            diaryContentView.textView.contentInset = contentInset
            diaryContentView.textView.scrollIndicatorInsets = contentInset
        }
        
        @objc private func keyboardWillHide() {
            ...
            
            diaryContentView.textView.contentInset = contentInset
            diaryContentView.textView.scrollIndicatorInsets = contentInset
        }
    }
    ```
    
## 2ï¸âƒ£ STEP 2
    
### STEP 2 Questions & Answers

#### Q1. NSFetchResultsController ë©”ì„œë“œ í˜„ì—… ì‚¬ìš© ì—¬ë¶€
- `Core Data`ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ë‹¨ë…ìœ¼ë¡œ `Core Data`ì˜ `persistentContainer`ë‚˜ `viewContext`ë¥¼ ì´ìš©í•˜ì—¬ `CRUD` ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì§€ë§Œ, `NSFetchResultsController`ë¡œë„ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ë°°ì› ìŠµë‹ˆë‹¤.
    
- `NSFetchResultsController`ëŠ” ì½”ì–´ ë°ì´í„° `fetch` `request`ì˜ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ê³  ì‚¬ìš©ìì—ê²Œ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ, `Core Data`ë§Œ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•  ë• ë°ì´í„°ë¥¼ ì¶”ê°€ ë˜ëŠ” ì‚­ì œë¥¼ í•œ ë’¤ ë°ì´í„°ê°€ ì‚¬ìš©ë˜ëŠ” `TableView` ë“±ì— ì§ì ‘ `reloadData()`ë¥¼ í˜¸ì¶œí•´ì„œ ìˆ˜ë™ìœ¼ë¡œ `UI` ì—…ë°ì´íŠ¸ë¥¼ í•´ì¤˜ì•¼ í•˜ì§€ë§Œ, `NSFetchedResultsController`ë¥¼ ì‚¬ìš©í•˜ë©´ `NSFetchedResultsControllerDelegate`ë¥¼ í™œìš©í•˜ì—¬ `Core Data`ì˜ `context`ë¥¼ ë³¸ì¸ì´ ëª¨ë‹ˆí„°ë§í•´ì„œ `saveContext()`ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ëŒ€ì‹  ì—…ë°ì´íŠ¸ë¥¼ í•©ë‹ˆë‹¤.
    
- ì´ì— ì €í¬ëŠ” `TableView`ë¥¼ í™œìš©í•  ë•ŒëŠ”, `NSFetchResultsController`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë”ìš± í¸ë¦¬í•˜ë‹¤ê³  ìƒê°í•˜ì—¬ ì´ë¥¼ ì´ë²ˆ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ì•˜ìŠµë‹ˆë‹¤. í˜„ì—…ì—ì„œëŠ” ì½”ì–´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ë•Œ, `NSFetchResultsController`ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ì§€ ì—¬ì­ˆì–´ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤.

#### A1. NSFetchResultsController ë©”ì„œë“œ í˜„ì—… ì‚¬ìš© ì—¬ë¶€
    
- í˜„ì—…ì—ì„œ ì‚¬ìš© ì—¬ë¶€ë¥¼ ë¬¼ì–´ë³´ì‹œë©´ ë‘ê´„ì‹ìœ¼ë¡œ ë¨¼ì € ë§ì”€ë“œë¦¬ë©´ ì¡°ê±´ì´ ìˆëŠ” ì˜ˆì“°ì˜€ë‹¤. ì§€ê¸ˆì²˜ëŸ¼ ë¡œì»¬ DBë¥¼ í™œìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ì„œ `CoreData`ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ì¹˜ë©´ ì§€ê¸ˆ ê°™ì€ ìƒí™©ì—ì„œëŠ” ì´ë¯¸ ì˜ ë§Œë“¤ì–´ë†“ì€ `NSFetchResultsController`ë¼ëŠ” `API`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ì´ìœ ê°€ ì—†ë‹¤ê³  í•œë‹¤. ê·¸ ì´ìœ ëŠ” ì´ë²ˆ ìŠ¤í…2ë¥¼ ì§„í–‰í•˜ë©° ëŠê¼ˆë˜ ì¥ì ì´ ë‹µì´ ë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¼ ì™œ ì¡°ê±´ì´ ìˆëŠ” ì˜ˆì“°ë¼ê³  í–ˆëŠ”ì§€ ì˜ë¬¸ì´ ë“¤ ìˆ˜ ìˆë‹¤. ê±°ê¸°ì— ëŒ€í•œ ëŒ€ë‹µì€ ì¼ë‹¨ ë‹¹ì—°íˆ ì´ê±´ ëª¨ë“  ì¡°ì§ë§ˆë‹¤ í˜„ì—…ë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ ê·¸ë¦°ì˜ ê²½ìš° `CoreData` ëŒ€ì‹  ì£¼ë¡œ `Realm`ì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤. `Realm`ì„ ì‚¬ìš©í•˜ë©´ ì¢€ ë” í¸ë¦¬í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. ê·¸ë ‡ê¸°ì— í˜„ì—…ì—ì„œ `CoreData`ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ `NSFetchResultsController`ë¥¼ ìƒí™©ì— ë§ê²Œ í™œìš©í•˜ê² ì§€ë§Œ ì• ì´ˆì— ë‹¤ë¥¸ ë¡œì»¬ `DB` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œë‹¤ë©´ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤. 
    
#### Q2. `appDelegate.persistentContainer.viewContext.save()` vs `appDelegate.saveContext()`
- `CoreData`ë¥¼ ì²˜ë¦¬í•  ë•Œ ì²˜ìŒì—ëŠ” `persistentContainer` ë‚´ë¶€ì— ìˆëŠ” `viewContext.save()`ë¥¼ í†µí•´ ì§ì ‘ ì €ì¥ì„ ì²˜ë¦¬í•˜ê³ , ê·¸ì— ë”°ë¥¸ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í–ˆì—ˆìŠµë‹ˆë‹¤.
- ê·¸ëŸ°ë° `CoreData`ë¥¼ ìƒì„±í•  ë•Œ `AppDelegate.swift` íŒŒì¼ ë‚´ë¶€ì— `appDelegate.saveContext()`ë¼ëŠ” ë©”ì„œë“œê°€ ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„±ëœë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹«ê³ , ì• í”Œì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ë§Œë“¤ì£¼ëŠ” ì½”ë“œì´ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì§€ ì•Šì„ê¹Œ í•˜ëŠ” ìƒê°ì— í•´ë‹¹ ë©”ì„œë“œë¥¼ í†µí•´ `CoreData`ì— ë°ì´í„°ê°€ ì €ì¥ì´ ë˜ë„ë¡ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.
- `appDelegate.saveContext()` ë©”ì„œë“œì˜ ë‚´ë¶€ êµ¬í˜„ì„ ë³´ë‹ˆ ê²°êµ­ì—” `viewContext.save()`ë¥¼ í†µí•´ì„œ ì €ì¥ë˜ëŠ” ê²ƒ ê°™ì€ë°, ì—ëŸ¬ê°€ ë°œìƒí•  ê²½ìš° `fatalError`ë¥¼ ë°œìƒì‹œëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.
    
- **AppDelegate í´ë” ë‚´ë¶€ì˜ saveContext() ë©”ì„œë“œ ì •ì˜ë¶€ :**
```swift
// MARK: - Core Data Saving support

func saveContext() {
    let context = persistentContainer.viewContext
    if context.hasChanges {
        do {
            try context.save()
        } catch {
            let nserror = error as NSError
            fatalError("Unresolved error \(nserror), \(nserror.userInfo)")
        }
    }
}
```

- ì• í”Œì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•´ì£¼ê³  ìˆëŠ” `saveContext()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ì„ì§€, ì•„ë‹ˆë©´ ì§ì ‘ `context.save()`ë¥¼ í˜¸ì¶œí•´ì„œ ë°ì´í„° ì €ì¥ í›„, ì—ëŸ¬ë¥¼ ë³„ë„ë¡œ ì§ì ‘ ì²˜ë¦¬í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ì€ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤! ğŸ™
    
#### A2. `appDelegate.persistentContainer.viewContext.save()` vs `appDelegate.saveContext()`
    
- ê·¸ë¦°ì˜ ê²½ìš° ê°€ë ¹ ì´ ë¶€ë¶„ ë¿ë§Œ ì•„ë‹ˆë¼ ìµœëŒ€í•œ ì»¤ìŠ¤í…€í•˜ê²Œ ì²˜ë¦¬í•´ì£¼ëŠ”ê±¸ ì„ í˜¸í•œë‹¤ê³  ë¦¬ë·°í•´ì£¼ì—ˆë‹¤. ì´ìœ ëŠ” ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ëª…í™•í•˜ê²Œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ì£¼ëŠ”ê²Œ ë” ì ì ˆí•˜ë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì´ì—ˆë‹¤. fatalError ìì²´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì• í”Œì—ì„œ í”íˆ ë­ ì—†ì„ë•Œ ê·¸ëƒ¥ ì‘ì„±í•œ ëŠë‚Œìœ¼ë¡œ ì‚¬ìš©ë  ë•Œê°€ ë§ë‹¤ê³  í•œë‹¤. ì‚¬ì‹¤ ì•± í¬ë˜ì‰¬ë¥¼ ë‚´ì§€ ì•Šì•„ë„ ë˜ëŠ”ê²ƒì¸ë°ë„ ì•½ê°„ ê´€ìŠµì²˜ëŸ¼ ë„£ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ê·¸ë ‡ê¸°ì— ì• í”Œì˜ ê¸°ë³¸ APIë¥¼ ê·¸ë ‡ê²Œ ë§ì´ ì‹ ë¢°í•˜ë©´ì„œ ë”°ë¥´ì§€ëŠ” ì•ŠëŠ”ë‹¤ í•œë‹¤. ê·¸ë ‡ê¸°ì— ë‹µì€ ì§ì ‘ í•„ìš”í•œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ fatalError ëŒ€ì‹  ì›í•˜ëŠ” ë°©ì‹ì— ë§ê²Œ ì—ëŸ¬ë¥¼ ë³„ë„ë¡œ ì²˜ë¦¬í•´ì£¼ëŠ” ë°©ë²•ì´ ë” ì ì ˆí•˜ë‹¤ê³  ìƒê°í•œë‹¤.
    
#### Q3. íŠœí”Œ ì¡°ê±´ë¬¸ ê°€ë…ì„± í–¥ìƒ ê³ ë¯¼ 

- `fetchSuccess` ìƒìˆ˜ì˜ ê²½ìš°, í•´ë‹¹ ì¼ê¸°ê°€ ì´ë¯¸ ì¼ì „ì— ì‘ì„±í•œ ì¼ê¸°ì¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ `Diary` íƒ€ì…ì˜ ê°’ì´ê³ , `isDeleted` ë³€ìˆ˜ì˜ ê²½ìš° ì•¡ì…˜ì‹œíŠ¸ë¥¼ í†µí•´ ì‚­ì œ ê¸°ëŠ¥ì´ ìš”ì²­ë˜ì–´ ìˆëŠ”ì§€ íŒë‹¨í•˜ê¸° ìœ„í•œ `Bool` ê°’ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ì´ë¥¼ `guard`ë¥¼ í†µí•´ ë¶„ê¸°ë¥¼ í•˜ë ¤ê³  í–ˆì§€ë§Œ, `else` ì¼€ì´ìŠ¤ ì•ˆì— ë˜ `guard`ë¬¸ì„ í•„ìš”ë¡œí•˜ì—¬, `switch`ë¬¸ì„ ì´ìš©í•˜ë©´ ë¶„ê¸°ë¥¼ ì¢€ ë” ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
    
- ë‹¤ë§Œ, íŠœí”Œ ê°’ì„ ì´ìš©í•˜ì—¬ switch ë¬¸ì„ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ (nil, false), (_, false) caseì™€ ê°™ì´ í•œëˆˆì— ì–´ë–¤ ê²½ìš°ì¸ì§€ íŒŒì•…í•˜ê¸°ëŠ” í˜ë“¤ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì¢€ ë” ê°€ë…ì„± ì¢‹ê²Œ í‘œí˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–¤ ë°©ë²•ì„ í™œìš©í•˜ë©´ ì¢‹ì„ì§€ ì¡°ì–¸ì„ êµ¬í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤! 
    
- ì½”ë“œ
```swift
private func determineDataProcessingFor(_ title: String, _ body: String, _ creationDate: Date) throws {
        let fetchSuccess = CoreDataManager.shared.fetchDiary(createdAt: creationDate)

        switch (fetchSuccess, isDeleted) {
        case (nil, false):
            CoreDataManager.shared.saveDiary(
                title: title,
                body: body,
                createdAt: creationDate
            )
        case (_, false):
            try CoreDataManager.shared.update(
                title: title,
                body: body,
                createdAt: creationDate
            )
        case (_, true):
            try CoreDataManager.shared.delete(createdAt: creationDate)
        }
    }
```
    
#### A3. íŠœí”Œ ì¡°ê±´ë¬¸ ê°€ë…ì„± í–¥ìƒ ê³ ë¯¼     

- í˜„ì¬ ì‘ì„±í•œ íŠœí”Œ ì¡°ê±´ë¬¸ì˜ ê°€ë…ì„±ì€ íŠ¹ë³„í•œ ë¬¸ì œê°€ ì—†ëŠ” ìƒíƒœë¡œ ë‹¤ì‹œ íŒë‹¨ë˜ì–´, ë³„ë‹¤ë¥¸ ìˆ˜ì •ì„ ì§„í–‰í•˜ì§€ ì•Šì•˜ë‹¤.

#### Q4. UISearchController ë‚´ë¶€ì˜ obscuresBackgroundDuringPresentation í”„ë¡œí¼í‹° ì‚¬ìš©ì‹œ ì •ìƒì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ë¬¸ì œ
- `UISearchController` ë‚´ë¶€ì˜ `obscuresBackgroundDuringPresentation` í”„ë¡œí¼í‹°ë¥¼ trueë¡œ ì„¤ì •í•  ê²½ìš° ì•„ë˜ì˜ ì‚¬ì§„ì²˜ëŸ¼ ë‚˜ì™€ì•¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆì—ˆìŠµë‹ˆë‹¤.

<image src = "https://i.imgur.com/58GWKOi.png" width="300" height="250">
    
- í•˜ì§€ë§Œ ì €í¬ê°€ `obscuresBackgroundDuringPresentation` í”„ë¡œí¼í‹°ë¥¼ `true`ë¡œ ì„¤ì •í–ˆì„ ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.

<image src = "https://i.imgur.com/8e0lYDt.png" width="300" height="350">

- ìœ„ ì‚¬ì§„ì²˜ëŸ¼ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì´ ì •ìƒì¸ ê²ƒìœ¼ë¡œ ë³´ì—¬ì§€ëŠ”ë°, í˜¹ì‹œ ì•„ë˜ì²˜ëŸ¼ `SearchBar` ê¹Œì§€ ì–´ë‘ì›Œì§€ëŠ” ì´ìœ ë¥¼ ì•Œ ìˆ˜ ìˆì„ê¹Œìš”? ğŸ¥²

- ì´ëŸ¬í•œ ë¬¸ì œë¡œ ì½”ë“œì—ì„œëŠ” `obscuresBackgroundDuringPresentation` í”„ë¡œí¼í‹°ë¥¼ ì œê±°í•œ ìƒíƒœì…ë‹ˆë‹¤.
    
- **ê¸°ì¡´ ì½”ë“œ :**
```swift
private func configureSearchController() {
    let searchController = UISearchController(searchResultsController: nil)
    searchController.searchResultsUpdater = self
    searchController.searchBar.placeholder = SearchControllerItem.placeHolder
    searchController.obscuresBackgroundDuringPresentation = true
    navigationItem.searchController = searchController
    navigationItem.hidesSearchBarWhenScrolling = false
}
```

- **ìˆ˜ì • ì½”ë“œ :**
```swift
private func configureSearchController() {
    let searchController = UISearchController(searchResultsController: nil)
    searchController.searchResultsUpdater = self
    searchController.searchBar.placeholder = SearchControllerItem.placeHolder
    navigationItem.searchController = searchController
    navigationItem.hidesSearchBarWhenScrolling = false
}
```

#### A4. UISearchController ë‚´ë¶€ì˜ obscuresBackgroundDuringPresentation í”„ë¡œí¼í‹° ì‚¬ìš©ì‹œ ì •ìƒì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ë¬¸ì œ
    
- `obscuresBackgroundDuringPresentation = true` ì„¤ì •ì€ ë°±ê·¸ë¼ìš´ë“œ ê·¸ëŸ¬ë‹ˆê¹Œ í•´ë‹¹ ì„œì¹˜ë°”ê¹Œì§€ ê°ì‹¸ì ¸ ìˆëŠ” ë°°ê²½ì— ì ìš©ëœë‹¤. ì¦‰ ì•„ë˜ì²˜ëŸ¼ ë·° ë””ë²„ê¹…ì„ í•´ë³´ë©´ ì„œì¹˜ë°”ê°€ ì˜¬ë ¤ì ¸ ìˆëŠ” ë°°ê²½ ì „ì²´ê°€ ë”¤ë“œëœê±¸ ë³¼ ìˆ˜ ìˆë‹¤.

- ì´ë¯¸ì§€
    
    ![Untitled 2](https://user-images.githubusercontent.com/99063327/186930966-827574d7-264f-48a9-9c2b-cc139068b23d.png)
    

- ê·¸ë ‡ê¸°ì— ì € ì„¤ì •ì´ ì„œì¹˜ë°”ëŠ” ê·¸ëŒ€ë¡œ í°ìƒ‰ì¸ë° ê·¸ ë°‘ì— ë¦¬ìŠ¤íŠ¸ë§Œ ìë™ìœ¼ë¡œ êµ¬í˜„í•´ì£¼ëŠ”ê±´ ì•„ë‹ê²ƒ ê°™ê³ , ìš°ë¦¬ê°€ ì›í•˜ëŠ” ì˜ˆì‹œëŠ” ë³„ë„ ì²˜ë¦¬ê°€ ë” ì´ë¤„ì ¸ ìˆì„ ê²ƒì´ë‹¤. 

- í˜„ì¬ ì„œì¹˜ë°”ë‚˜ íŠ¹ì • ë„¤ë¹„ê²Œì´ì…˜ ë¶€ë¶„ì˜ background ìƒ‰ìƒì„ íŠ¹ë³„íˆ ì§€ì •í•´ì£¼ì§€ ì•Šì•˜ê¸°ì— ì‹œìŠ¤í…œì„ ë”°ë¼ê°„ ê²ƒì´ë‹¤. ì¦‰ ì´ê²ƒë“¤ì´ ì˜¬ë ¤ì§„ ë°±ê·¸ë¼ìš´ë“œë¥¼ ë”°ë¼ê°„ ê²ƒì´ ëœë‹¤. ê·¸ë ‡ê¸°ì— ìš°ë¦¬ê°€ êµ¬ìƒí•œ ê²€ìƒ‰ì°½ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ”ì²˜ë¦¬ë¥¼ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì— ê¸°ë³¸ ìƒ‰ìƒì„ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤. ì•„ë˜ì˜ ì½”ë“œë¥¼ í†µí•˜ì—¬ ë‹¨ìˆœíˆ ì„œì¹˜ë°” êµ¬ì„± ì‹œ ì„œì¹˜ë°”ì˜ ë°±ê·¸ë¼ìš´ë“œ ìƒ‰ìƒì„ whiteë¡œ ì§€ì •í•´ì£¼ë©´ í•´ê²°ì´ ë˜ëŠ” ê°„ë‹¨í•œ ë¬¸ì œì˜€ë‹¤.


- ì½”ë“œ
```swift
searchController.obscuresBackgroundDuringPresentation = true
searchController.searchBar.backgroundColor = .white
```
    
## 3ï¸âƒ£ STEP 3
    
### STEP 3 Questions & Answers

#### Q1. ì‹œë®¬ë ˆì´í„°ì—ì„œ Location ë³€ê²½ì‹œ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ
- ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ `CoreLocation`ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ìœ„ì¹˜ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
- ìœ„ì¹˜ê°€ ì œëŒ€ë¡œ ë“¤ì–´ê°€ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ `Simulator`ì—ì„œ `location`ì„ ë³€ê²½í•´ë´¤ì§€ë§Œ, ë³€ê²½ëœ ìœ„ì¹˜ê°€ ë“¤ì–´ê°€ì§€ ì•Šê³ , ì´ ì „ì— ì„¤ì •í–ˆë˜ ìœ„ì¹˜ê°€ ê³„ì† ë“¤ì–´ê°”ìŠµë‹ˆë‹¤.
- ê·¸ëŸ°ë° ì •ë§ ì´ìƒí•˜ê²Œë„ ì•„ì´í° ê¸°ë³¸ ì§€ë„ ì•±ì„ í•œë²ˆ ì‹¤í–‰í•œ í›„ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ë¥¼ í–ˆì„ë•ŒëŠ” `Location`ì„ ë³€ê²½í•´ì¤¬ì„ë•Œ ë°”ë¡œë°”ë¡œ ì ìš©ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

![](https://i.imgur.com/oAmI4Ea.png)

![](https://i.imgur.com/QxV7koj.png)

- â¬†ï¸ í•´ë‹¹ ë©”ë‰´ì—ì„œ ìœ„ì¹˜ë¥¼ ë³€ê²½í•´ë„ `Simulator`ì—ì„œëŠ” ë°”ë¡œ ì ìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
- ë‹¨ìˆœíˆ ì• í”Œ ê¸°ë³¸ ì§€ë„ ì•±ì„ ì‹¤í–‰ í›„ ì¢…ë£Œí•´ì£¼ëŠ” ê²ƒ ë§Œìœ¼ë¡œ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì˜¬ë°”ë¥¸ í•´ê²°ë°©ë²•ì´ ì•„ë‹ˆë¼ëŠ” ìƒê°ì´ ë“¤ì–´ í˜¹ì‹œ ì›ì¸ì„ ì•„ì‹œëŠ”ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤ ğŸ¤”
    
#### Q2. ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê³  ìˆëŠ” ì¤‘ì¸ì§€ ì²´í¬í•˜ëŠ” ë²•
- save ê¸°ëŠ¥ì´ êµ¬í˜„ëœ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ `Weather` ì•„ì´ì½˜ì„ ì¸í„°ë„·ì—ì„œ ë°›ì•„ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.
- í•˜ì§€ë§Œ ì´ì „ í”„ë¡œì íŠ¸ êµ¬í˜„ ì‚¬í•­ìœ¼ë¡œ ì¼ê¸°ì¥ì˜ ì €ì¥ ê²½ìš°ì˜ ìˆ˜ëŠ” ì¼ê¸°ì¥ ëª©ë¡ìœ¼ë¡œ ë˜ëŒì•„ê°ˆ ë•Œ, ë°±ê·¸ë¼ìš´ë“œì— ë“¤ì–´ê°ˆ ë•Œ, í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°ˆ ë•Œë¡œ, ì´ 3ê°€ì§€ ê²½ìš°ì…ë‹ˆë‹¤.
- ê·¸ëŸ°ë° ì¼ê¸°ì¥ ëª©ë¡ìœ¼ë¡œ ë˜ëŒì•„ê°€ë©´ ì´ë¯¸ show ë˜ê³  ìˆëŠ” í‚¤ë³´ë“œ ë˜í•œ ìë™ìœ¼ë¡œ hideë˜ê¸° ë•Œë¬¸ì— ì¤‘ë³µí•˜ì—¬ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤. 
- ì´ì „ì—ëŠ” ë¶„ê¸° ì²˜ë¦¬ë¥¼ í†µí•˜ì—¬ í•´ê²°í•˜ì˜€ëŠ”ë°, ì´ë²ˆì—ëŠ” ì´ ê³¼ì •ì—ì„œ ì„œë²„ì™€ì˜ ì§€ì—°ìœ¼ë¡œ ì¸í•´ ë¶„ê¸° ì²˜ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•„ ë‘ ì„¸ë²ˆ ì €ì¥ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ” í˜„ìƒì´ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.
- ì´ë¡œ ì¸í•œ ì¤‘ë³µ ì €ì¥ì„ ë§‰ê¸° ìœ„í•´ì„œ `isFetching` í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•´ì„œ í˜„ì¬ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê³  ìˆëŠ” ì¤‘ì¸ì§€ ì•„ë‹Œì§€ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
- ë‹¤ë§Œ, ì´ë ‡ê²Œ í™•ì¸í•˜ëŠ” ë°©ì‹ì´ íš¨ìœ¨ì ì¸ì§€ì— ëŒ€í•œ ì˜ë¬¸ì´ ë“¤ì–´, í˜¹ì‹œ ë°ì´í„°ê°€ í˜„ì¬ í†µì‹ ì¤‘ì¸ì§€ ì—¬ë¶€ë¥¼ ì²´í¬í•  ìˆ˜ ìˆëŠ” ë” ì¢‹ì€ ë°©ë²•ì´ ìˆëŠ”ì§€ ì•Œê³  ì‹¶ìŠµë‹ˆë‹¤. â˜ºï¸

- **ê¸°ì¡´ ì½”ë“œ:**
```swift
WeatherImageAPIManager(icon: icon)?.requestImage(id: id) { [weak self] result in
    switch result {
    case .success(let image):
        do {
            try CoreDataManager.shared.saveDiary(
                title: title,
                body: body,
                createdAt: creationDate,
                id: id,
                main: main,
                icon: icon,
                image: image
            )
        } catch {
            self?.presentErrorAlert(error)
        }
    case .failure(let error):
        self?.presentErrorAlert(error)
    }
}
```

- **ìˆ˜ì • ì½”ë“œ:**
```swift
if isFetching == false {
    isFetching = true
    WeatherImageAPIManager(icon: icon)?.requestImage(id: id) { [weak self] result in
        switch result {
        case .success(let image):
            do {
                try CoreDataManager.shared.saveDiary(
                    title: title,
                    body: body,
                    createdAt: creationDate,
                    id: id,
                    main: main,
                    icon: icon,
                    image: image
                )
            } catch {
                self?.presentErrorAlert(error)
            }
        case .failure(let error):
            self?.presentErrorAlert(error)
        }
        self?.isFetching = false
    }
}
```
